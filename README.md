# 声纹识别降噪中间件

一个具有图形用户界面的声纹识别和选择性降噪音频处理工具，支持虚拟音频设备输出功能。

## 功能特点

- **声纹识别**：可以训练并识别指定用户的声音
- **选择性降噪**：对目标声音和非目标声音应用不同强度的降噪
- **虚拟音频设备**：将处理后的音频输出到虚拟设备，供其他应用程序使用
- **图形用户界面**：友好直观的操作界面
- **实时处理**：低延迟的音频流处理
- **跨平台支持**：支持Windows、macOS和Linux系统

## 系统要求

- Python 3.7+
- 依赖库（见requirements.txt）
- 支持音频输入/输出的设备
- 针对虚拟音频功能，不同操作系统需安装特定的虚拟音频驱动：
  - Windows: [VB-Cable](https://vb-audio.com/Cable/)
  - macOS: [BlackHole](https://github.com/ExistentialAudio/BlackHole)
  - Linux: PulseAudio工具 (`sudo apt install pulseaudio-utils`)

## 安装步骤

1. 克隆或下载本仓库
2. 安装依赖库：

```bash
pip install -r requirements.txt
```

3. 根据操作系统安装相应的虚拟音频驱动（如需使用虚拟设备功能）

## 使用方法

### 启动程序

```bash
python main.py
```

### 基本使用流程

1. **设备设置**：选择输入设备（麦克风）和输出设备（扬声器）
2. **训练声纹**：
   - 录制目标声音样本
   - 训练声纹模型
3. **环境设置**：
   - 采集环境噪声样本（保持安静状态）
   - 调整处理参数
4. **启动处理**：
   - 启动音频处理中间件
   - 实时观察处理统计信息

### 虚拟设备使用流程

1. 在"虚拟设备"选项卡中设置虚拟音频设备
2. 勾选"将处理后的音频输出到虚拟设备"
3. 在其他应用程序中，将音频输入源设置为该虚拟设备

## 程序结构

- `main.py` - 主程序入口
- `audio_middleware.py` - 音频处理核心类
- `virtual_audio_device.py` - 虚拟音频设备管理类
- `gui_interface.py` - 图形用户界面实现

## 常见问题解答

**Q: 为什么声纹识别不准确？**
A: 尝试录制更多样本，并调整声纹识别阈值。安静的环境中录制样本效果更好。

**Q: 处理后的音频有延迟怎么办？**
A: 调整帧大小和采样率可以减少延迟，但可能会影响处理质量。

**Q: 为什么找不到虚拟音频设备？**
A: 请确认已正确安装对应操作系统的虚拟音频驱动。

## 许可证

本项目采用MIT许可证。
